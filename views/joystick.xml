<fest:template xmlns:fest="http://fest.mail.ru" context_name="json">
<fest:doctype>html</fest:doctype>
<html>
	<head>
		<meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>
			<fest:value>json.title</fest:value>
		</title>
        <link rel="stylesheet" type="text/css" href="css/min/joystick.min.css" />
	</head>
	<body>
        <div class="inputs">
            <form id="tokenForm" method='post' class="one-field-input">
                <input type="text" id="token" class="one-field-input__input-field" placeholder="Enter a token" autocomplete="off" name="token"/>
                <input type="submit" id="connect" class="one-field-input__send-button" value="Submit" />
            </form>
            <div id="message"></div>
            <div id="test"></div>
        </div>
        <div class="canvasHolder" style="display:none;">
            <canvas id="canvas">You have a very old browser, dude.</canvas>
        </div>
        <div class="message-dimmer"></div>
        <div class="message">

            <div class="message__textbox">
                <div class="message__textbox__text">Some text</div>
            </div>
        </div>
        <br />

        <fest:if test="json.development">
            <script data-main="js/main_joystick" src="js/lib/require.js"></script>
            <script src="http://localhost:35729/livereload.js?snipver=1"></script>
        </fest:if>
        <fest:if test="!json.development">
            <script>
                console.time('load');
            </script>
            <script src="js/joystick/build/build.min.js"></script>
            <script>
                require(['main_joystick'], function(){
                console.timeEnd('load');
                });
            </script>
        </fest:if>
	</body>
</html>
</fest:template>
